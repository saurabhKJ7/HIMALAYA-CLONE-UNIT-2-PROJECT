var productdata=[
    {
    avatar:
    "https://cdn.shopify.com/s/files/1/0399/1728/9633/products/HimalayaBambooToothpaste-Tube_Front_1024x.png?v=1613065864",
    name: "Bamboo & Sea Salt Whitening Antiplaque Toothpaste",
    position: "$5.99",
    product_id:13,
    logo:
    "https://lh3.googleusercontent.com/gE-Epy_M7QINR02p_AaErAcYz2yJQSIwVlrkZhwltHTR2LUwE6C5DvQIl7C92FjK3-_VLp1LkZ9nRZgc39dtUei6wuXICpJNhlXTa8hWdadTGTGOkL66x6pnOxadNXm_25n03i_GJA=s55-p-k",
    },
    {
    avatar:
    "https://cdn.shopify.com/s/files/1/0399/1728/9633/products/HimalayaCharcoalToothpaste-Tube_Front_1024x.png?v=1613059882",
    name: "Charcoal & Black Seed Oil Whitening Antiplaque Toothpaste",
    position: "$5.99",
    product_id:14,
    logo:
    "https://lh3.googleusercontent.com/gE-Epy_M7QINR02p_AaErAcYz2yJQSIwVlrkZhwltHTR2LUwE6C5DvQIl7C92FjK3-_VLp1LkZ9nRZgc39dtUei6wuXICpJNhlXTa8hWdadTGTGOkL66x6pnOxadNXm_25n03i_GJA=s55-p-k",
    },
    {
    avatar:
    "https://cdn.shopify.com/s/files/1/0399/1728/9633/products/image-1_1024x.jpg?v=1591028200",
    name: "Kids Toothpaste - Bubble Gum",
    position: "$4.99",
    product_id:15,
    logo:
    "https://lh3.googleusercontent.com/gE-Epy_M7QINR02p_AaErAcYz2yJQSIwVlrkZhwltHTR2LUwE6C5DvQIl7C92FjK3-_VLp1LkZ9nRZgc39dtUei6wuXICpJNhlXTa8hWdadTGTGOkL66x6pnOxadNXm_25n03i_GJA=s55-p-k",
    },
    {
    avatar:
    "https://cdn.shopify.com/s/files/1/0399/1728/9633/products/image-2_1024x.jpg?v=1591028203",
    name: "Kids Toothpaste - Cool Mint",
    position: "$4.99",
    product_id:16,
    logo:
    "https://lh3.googleusercontent.com/gE-Epy_M7QINR02p_AaErAcYz2yJQSIwVlrkZhwltHTR2LUwE6C5DvQIl7C92FjK3-_VLp1LkZ9nRZgc39dtUei6wuXICpJNhlXTa8hWdadTGTGOkL66x6pnOxadNXm_25n03i_GJA=s55-p-k",
    },
    {
    avatar:
    "https://cdn.shopify.com/s/files/1/0399/1728/9633/products/KIDSORANGEVERTICALTUBE_1024x.jpg?v=1608240530",
    name: "Kids Toothpaste - Orange",
    position: "$4.99",
    product_id:17,
    logo:
    "https://lh3.googleusercontent.com/gE-Epy_M7QINR02p_AaErAcYz2yJQSIwVlrkZhwltHTR2LUwE6C5DvQIl7C92FjK3-_VLp1LkZ9nRZgc39dtUei6wuXICpJNhlXTa8hWdadTGTGOkL66x6pnOxadNXm_25n03i_GJA=s55-p-k",
    },
    {
    avatar:
    "https://cdn.shopify.com/s/files/1/0399/1728/9633/products/Neem-and-Pom---Box-Tube_1024x.png?v=1597744049",
    name: "Neem & Pomegranate Original Toothpaste",
    position: "$5.99",
    product_id:18,
    logo:
    "https://lh3.googleusercontent.com/gE-Epy_M7QINR02p_AaErAcYz2yJQSIwVlrkZhwltHTR2LUwE6C5DvQIl7C92FjK3-_VLp1LkZ9nRZgc39dtUei6wuXICpJNhlXTa8hWdadTGTGOkL66x6pnOxadNXm_25n03i_GJA=s55-p-k",
    },
    {
    avatar:
    "https://cdn.shopify.com/s/files/1/0399/1728/9633/products/CC-Cinnamon---Box-Tube_1024x.png?v=1597743708",
    name: "Simply Cinnamon Complete Care Toothpaste",
    position: "$5.99",
    product_id:19,
    logo:
    "https://lh3.googleusercontent.com/gE-Epy_M7QINR02p_AaErAcYz2yJQSIwVlrkZhwltHTR2LUwE6C5DvQIl7C92FjK3-_VLp1LkZ9nRZgc39dtUei6wuXICpJNhlXTa8hWdadTGTGOkL66x6pnOxadNXm_25n03i_GJA=s55-p-k",
    },
    {
    avatar:
    "https://cdn.shopify.com/s/files/1/0399/1728/9633/products/CC-Mint---Box-Tube_1024x.png?v=1597744156",
    name: "Simply Mint Complete Care Toothpaste",
    position: "$5.99",
    product_id:20,
    logo:
    "https://lh3.googleusercontent.com/gE-Epy_M7QINR02p_AaErAcYz2yJQSIwVlrkZhwltHTR2LUwE6C5DvQIl7C92FjK3-_VLp1LkZ9nRZgc39dtUei6wuXICpJNhlXTa8hWdadTGTGOkL66x6pnOxadNXm_25n03i_GJA=s55-p-k",
    },
    {
    avatar:
    "https://cdn.shopify.com/s/files/1/0399/1728/9633/products/Whitening-Mint---Box-Tube_1024x.png?v=1597743896",
    name: "Simply Mint Whitening Toothpaste",
    position: "$5.99",
    product_id:21,
    logo:
    "https://lh3.googleusercontent.com/gE-Epy_M7QINR02p_AaErAcYz2yJQSIwVlrkZhwltHTR2LUwE6C5DvQIl7C92FjK3-_VLp1LkZ9nRZgc39dtUei6wuXICpJNhlXTa8hWdadTGTGOkL66x6pnOxadNXm_25n03i_GJA=s55-p-k",
    },
    {
    avatar:
    "https://cdn.shopify.com/s/files/1/0399/1728/9633/products/CC-Peppermint---Box-Tube_1024x.png?v=1597744464",
    name: "Simply Peppermint Complete Care Toothpaste",
    position: "$5.99",
    product_id:22,
    logo:
    "https://lh3.googleusercontent.com/gE-Epy_M7QINR02p_AaErAcYz2yJQSIwVlrkZhwltHTR2LUwE6C5DvQIl7C92FjK3-_VLp1LkZ9nRZgc39dtUei6wuXICpJNhlXTa8hWdadTGTGOkL66x6pnOxadNXm_25n03i_GJA=s55-p-k",
    },
    {
    avatar:
    "https://cdn.shopify.com/s/files/1/0399/1728/9633/products/Whitening-Peppermint---Box-Tube_1024x.png?v=1605047704",
    name: "Simply Peppermint Whitening Toothpaste",
    position: "$5.99",
    product_id:23,
    logo:
    "https://lh3.googleusercontent.com/gE-Epy_M7QINR02p_AaErAcYz2yJQSIwVlrkZhwltHTR2LUwE6C5DvQIl7C92FjK3-_VLp1LkZ9nRZgc39dtUei6wuXICpJNhlXTa8hWdadTGTGOkL66x6pnOxadNXm_25n03i_GJA=s55-p-k",
    },
    {
    avatar:
    "https://cdn.shopify.com/s/files/1/0399/1728/9633/products/CC-Spearmint---Box-Tube_1024x.png?v=1597744520",
    name: "Simply Spearmint Complete Care Toothpaste",
    position: "$5.99",
    product_id:24,
    logo:
    "https://lh3.googleusercontent.com/gE-Epy_M7QINR02p_AaErAcYz2yJQSIwVlrkZhwltHTR2LUwE6C5DvQIl7C92FjK3-_VLp1LkZ9nRZgc39dtUei6wuXICpJNhlXTa8hWdadTGTGOkL66x6pnOxadNXm_25n03i_GJA=s55-p-k",
    },
    
    ];
    
    





displayproduct(productdata)

var cartarr=JSON.parse(localStorage.getItem("cartdata"))||[];

function displayproduct(productdata){
    document.getElementById("productcategory").innerHTML="";
    productdata.map(function(elem){
        var box=document.createElement("div")
         var pimg= document.createElement("img");
         pimg.setAttribute("src", elem.avatar);
        var pnames=document.createElement("p")
        pnames.innerText=elem.name

        var pprice=document.createElement("p")
        pprice.innerText=elem.position

        var plogo=document.createElement("img")
        plogo.setAttribute("src",elem.logo)

        var btn=document.createElement("button")
         var p=document.createElement("p")
         p="Add to cart"
         btn.addEventListener("click",function(){
          carddatafunction(elem)
        });

         btn.append(plogo,p)

        box.append(pimg,pnames,pprice,btn)

        document.querySelector("#productcategory").append(box)

    })
}

function carddatafunction(elem){
  var a=cartarr.filter(function(el){
   return el.product_id == elem.product_id;
  })

  if(a.length === 0){
    cartarr.push(elem);
    alert("Product Added to Cart Successfuly")
    localStorage.setItem("cartdata",JSON.stringify(cartarr))
  }else{
    alert("Product already in Cart");
  }
 }



function filtervalue() {
   var selected = document.querySelector("#filter").value;
   
if (selected == "pasc") {
     productdata.sort(function (a, b) {
       return +(a.position.replace("$","")) - (+(b.position.replace("$","")) );;
     });
     displayproduct(productdata);
   }

   if (selected == "pdsc") {
     productdata.sort(function (a, b) {
       return +(b.position.replace("$","")) - (+(a.position.replace("$","")) );
     });
     displayproduct(productdata);
   }

   if (selected == "nasc") {
     productdata.sort(function (a, b) {
       if (a.name > b.name) return 1;
       if (a.name < b.name) return -1;
       return 0;
     });
      displayproduct(productdata)
      
     
   }
   if (selected == "ndsc") {
     productdata.sort(function (a, b) {
       if (a.name > b.name) return -1;
       if (a.name < b.name) return 1;
       return 0;
     });
     displayproduct(productdata);
     
     
   }
 }